package com.nations.data;

import java.util.*;

public class NationTemplate {

    private final String nationName;
    private final NationColor color;
    private final List<TownTemplate> towns;

    public NationTemplate(String nationName, NationColor color, List<TownTemplate> towns) {
        this.nationName = nationName;
        this.color = color;
        this.towns = towns;
    }

    public String getNationName() { return nationName; }
    public NationColor getColor() { return color; }
    public List<TownTemplate> getTowns() { return towns; }

    public int getTotalChunks() {
        int t = 0; for (TownTemplate tt : towns) t += tt.getChunkCount(); return t;
    }

    public static class TownTemplate {
        public final String name;
        public final List<int[]> chunks;
        public TownTemplate(String name, List<int[]> chunks) { this.name = name; this.chunks = chunks; }
        public int getChunkCount() { return chunks.size(); }
        public int[] getCenter() {
            if (chunks.isEmpty()) return new int[]{0, 0};
            long sx = 0, sz = 0;
            for (int[] c : chunks) { sx += c[0]; sz += c[1]; }
            return new int[]{(int)(sx / chunks.size()), (int)(sz / chunks.size())};
        }
    }

    private static List<TownTemplate> parseMap(String[] map, Map<Character, String> key) {
        Map<String, List<int[]>> tmp = new HashMap<>();
        int h = map.length, w = 0;
        for (String s : map) if (s.length() > w) w = s.length();
        int cx = w / 2, cz = h / 2;
        for (int z = 0; z < h; z++) {
            String row = map[z];
            for (int x = 0; x < row.length(); x++) {
                char c = row.charAt(x);
                if (c == ' ' || c == '.') continue;
                String city = key.get(c);
                if (city != null) tmp.computeIfAbsent(city, k -> new ArrayList<>()).add(new int[]{x - cx, z - cz});
            }
        }
        List<TownTemplate> res = new ArrayList<>();
        for (var e : tmp.entrySet()) res.add(new TownTemplate(e.getKey(), e.getValue()));
        return res;
    }

    private static final Map<String, NationTemplate> TEMPLATES = new HashMap<>();

    static {

        // =================================================================
        //  РОССИЯ — ~1100 чанков, 11 городов
        //  Кольский полуостров выступает, Карелия с заливами,
        //  Европейская часть широкая с неровным югом (Кавказ),
        //  Урал — сужение, Сибирь массивная с выступами,
        //  Дальний Восток: Камчатка выступает, Сахалин отдельно,
        //  Северный берег с заливами, южная граница зазубренная
        // =================================================================
        Map<Character, String> ru = new HashMap<>();
        ru.put('U', "Мурманск"); ru.put('S', "Санкт-Петербург"); ru.put('M', "Москва");
        ru.put('N', "Нижний Новгород"); ru.put('D', "Краснодар"); ru.put('K', "Казань");
        ru.put('E', "Екатеринбург"); ru.put('O', "Новосибирск"); ru.put('R', "Красноярск");
        ru.put('Y', "Якутск"); ru.put('V', "Владивосток");

        String[] ruMap = {
            //         1111111111222222222233333333334444444444555555555566666666667777777777888888888899999999990000
            //1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456
            "..............UU.U...........................................................................................",  // 0  Кольский — зазубренный
            ".............UUUUU..........................................................................................",  // 1
            "............UUUUUU.U........................................................................................",  // 2  выступ справа
            "...........UUUUUUU.........................................................................................",  // 3
            "..........UUUUUUU..........................................................................................",  // 4
            ".........SSSUUUU...........................................................................................",  // 5  Карелия
            "........SSSSSU............................................................................................",  // 6
            ".......SSSSSSS............................................................................................",  // 7
            "......SSSSSMM..............................................................................................",  // 8
            ".....SSSSSMMMM....KKK.EEEEE..OOOOOO..RRRRRRR...YYYYYYYYY..............................................",  // 9  основная полоса
            ".....SSSSMMMMMM.NNKKKKEEEEEE.OOOOOOO.RRRRRRRR..YYYYYYYYY..............................................",  // 10
            "....SSSSMMMMMMM.NNNKKKKEEEEEEOOOOOOOORRRRRRRRRRRYYYYYYYYYY.............................................",  // 11
            "....SSSMMMMMMMMNNNNKKKKEEEEEEOOOOOOOORRRRRRRRRRRRYYYYYYYYYV............................................",  // 12
            "...SSSMMMMMMMMMNNNNKKKKEEEEEEOOOOOOOORRRRRRRRRRRRRYYYYYYYY.VV...........................................",  // 13
            "...DDDMMMMMMMMMNNNKKKKKEEEEEEOOOOOOOORRRRRRRRRRRRRRYYYYYYY.VVV.........................................",  // 14
            "..DDDDMMMMMMMMNNNKKKKKEEEEEEOOOOOOOORRRRRRRRRRRRRRRYYYYYYYVVVV........................................",  // 15
            "..DDDDDMMMMMMMNNNNKKKKEEEEEEOOOOOOOORRRRRRRRRRRRRRRYYYYYYVVVVV........................................",  // 16
            "..DDDDDDMMMMMMNNNNKKKKEEEEEEOOOOOOOORRRRRRRRRRRRRRRRYYYYYVVVVVV.......................................",  // 17  Владивосток выступает вниз
            "...DDDDDMMMMMMNNNNKKKKEEEEEEOOOOOOOORRRRRRRRRRRRRRRRYYYY.VVVVV........................................",  // 18
            "...DDDDDDMMMMMNNNNKKKKEEEEEEOOOOOOOORRRRRRRRRRRRRRRRYYYY..VVV.........................................",  // 19
            "....DDDDDMMMMMNNNKKKKEEEEEEOOOOOOO.RRRRRRRRRRRRRRRYYY.....VV.........................................",  // 20  сужение
            ".....DDDDMMMMMNNNKKKKEEEEEE.OOOOOORRRRRRRRRRRRRRRYYYY......V..........................................",  // 21
            ".....DDDDDMMMMNNNKKKKEEEEE..OOOOORRRRRRRRRRRRRRRYYY...................................................",  // 22
            "......DDDDMMMMNNNKKKKEEEEEE.OOOOO.RRRRRRRRRRRRRYYY....................................................",  // 23
            ".......DDDMMMNNNNKKKKEEEEEE..OOOO.RRRRRRRRRRRYYY......................................................",  // 24
            "........DDMMMNNNNKKKKEEEE....OOO..RRRRRRRRRRYYY.......................................................",  // 25  Кавказ зазубренный
            ".........DDMMNNNKKKKEEEEE...OOO..RRRRRRRRRYYY.........................................................",  // 26
            "..........DDMNNNKKKKEEE.....OO..RRRRRRRRYYY...........................................................",  // 27
            "...........DDNNKKKKEEE.....OO..RRRRRRRYYY.............................................................",  // 28
            "............DNKKKKEEE......O..RRRRRRYYY...............................................................",  // 29
            ".............DKKKEEE.........RRRRRYYY.................................................................",  // 30
            "..............KKKEEE.........RRRRYYY..................................................................",  // 31
            "...............KKEE..........RRRYYY...................................................................",  // 32
            "................KEE..........RRYY....................................................................",  // 33
        };
        TEMPLATES.put("russia", new NationTemplate("Российская Федерация", NationColor.RED, parseMap(ruMap, ru)));


        // =================================================================
        //  КИТАЙ — ~600 чанков, 8 городов
        //  Синьцзян/Тибет массивные слева — западная граница
        //    волнистая (горы Памира, Каракорум),
        //  Маньчжурия выступает на северо-восток,
        //  Побережье зазубренное (заливы Бохай, Ханчжоу),
        //  Хайнань — отдельный маленький выступ внизу справа,
        //  Южная граница неровная (Гималаи, Юньнань)
        // =================================================================
        Map<Character, String> cn = new HashMap<>();
        cn.put('U', "Урумчи"); cn.put('H', "Харбин"); cn.put('P', "Пекин");
        cn.put('W', "Ухань"); cn.put('S', "Шанхай"); cn.put('C', "Чэнду");
        cn.put('G', "Гуанчжоу"); cn.put('Z', "Шэньчжэнь");

        String[] cnMap = {
            //         1111111111222222222233333333334444
            //1234567890123456789012345678901234567890123456
            "...........................HHHH..............",  // 0   Маньчжурия выступ
            "..........................HHHHHH.............",  // 1
            ".........................HHHHHHH.............",  // 2   зазубрина
            "........................HHHHHHHH.............",  // 3
            "UUUUUUU................PPPPPHHHH.............",  // 4   Синьцзян — волнистая граница
            ".UUUUUUUUU............PPPPPPPHH..............",  // 5
            "..UUUUUUUUUU........PPPPPPPPP...............",  // 6
            "..UUUUUUUUUUUU.....PPPPPPPPPP...............",  // 7
            "...UUUUUUUUUUUUU..PPPPPPPPPP................",  // 8
            "...UUUUUUUUUUUUUCCPPPPPPSSSS................",  // 9
            "....UUUUUUUUUUUCCCCPPPPSSSSS................",  // 10
            ".....UUUUUUUUUCCCCCCWWWSSSSSS...............",  // 11
            "......UUUUUUUCCCCCCWWWWWSSSSS...............",  // 12  побережье зазубрины
            ".......UUUUUUCCCCCWWWWWWSSSS................",  // 13
            "........UUUUCCCCCCWWWWWWSSS.................",  // 14
            ".........UUUCCCCCCWWWWWWS...................",  // 15
            "..........UUCCCCCCWWWGGGSS..................",  // 16
            "...........UCCCCCCWWGGGGGZZ.................",  // 17
            "............UCCCCCWGGGGGGZZZ................",  // 18  Южная граница — Юньнань
            ".............CCCCCCGGGGGZZZZ................",  // 19
            "..............CCCCCGGGGZZZZZ................",  // 20
            "...............CCCCGGGGGZZZZ................",  // 21
            "................CCCGGGGZZZ..................",  // 22  Хайнань
            ".................CCGGGZZZ...................",  // 23
            "..................CGGGGZZ....................",  // 24
            "...................GGGGZZ....................",  // 25
            "....................GGGZ.....................",  // 26
            ".....................GGZ.....................",  // 27
            "......................GZ.....................",  // 28  южный выступ
            ".......................Z.....................",  // 29
        };
        TEMPLATES.put("china", new NationTemplate("Китайская Народная Республика", NationColor.DARK_RED, parseMap(cnMap, cn)));


        // =================================================================
        //  США — ~600 чанков, 8 городов
        //  Западное побережье — зазубренное (Олимпик, Биг-Сур),
        //  Великие озёра — вырез сверху (Мичиган, Эри),
        //  Флорида — длинный полуостров,
        //  Мэн — зазубренный выступ справа сверху,
        //  Техас — выступ внизу,
        //  Южная граница с Мексикой — волнистая (Рио-Гранде)
        // =================================================================
        Map<Character, String> us = new HashMap<>();
        us.put('T', "Сиэтл"); us.put('L', "Лос-Анджелес"); us.put('D', "Денвер");
        us.put('C', "Чикаго"); us.put('N', "Нью-Йорк"); us.put('W', "Вашингтон");
        us.put('H', "Хьюстон"); us.put('A', "Майами");

        String[] usMap = {
            //         1111111111222222222233333333334444
            //1234567890123456789012345678901234567890123456
            ".TTT............CCCC.CCC..NNNN.N.............",  // 0  Мэн зазубренный
            "TTTTT..........CCCCCCCCC.NNNNN.N.............",  // 1
            ".TTTTT........CCCCCCCCCCNNNNNNN..............",  // 2  Великие озёра — вырез
            ".TTTTT.......CCCCCCCCCCCNNNNNNN..............",  // 3
            "TTTTTDDDD...CCCCCCCCCCCCNNNNNNNN.............",  // 4
            "TTLLLDDDDDDDCCCCCCCCCCCWWWWWNNNNN............",  // 5
            "TLLLLDDDDDDDDCCCCCCCCWWWWWWWWNNNN............",  // 6
            "LLLLLDDDDDDDDDDDDCCWWWWWWWWWNNN.............",  // 7
            "LLLLLDDDDDDDDDDDDDWWWWWWWWWWNN..............",  // 8
            ".LLLLDDDDDDDDDDDDDDWWWWWWWWWNN..............",  // 9
            ".LLLLDDDDDDDDDDDDDDDWWWWWWWWN...............",  // 10
            "..LLLDDDDDDDDDDDDDDDWWWWWWWWW...............",  // 11
            "..LLLDDDDDDDDDDDDDDDDWWWWWWWW...............",  // 12
            "...LLDDDDDDDDDDDDDDDHHHWWWWWW...............",  // 13
            "...LLDDDDDDDDDDDDDDHHHHHHWWWW...............",  // 14
            "....LDDDDDDDDDDDDDDHHHHHHHWWW...............",  // 15  Техас выступ
            ".....DDDDDDDDDDDDDDHHHHHHHWW................",  // 16
            "......DDDDDDDDDDDDHHHHHHH...................",  // 17
            ".......DDDDDDDDDDHHHHHH.....................",  // 18
            "..............HHHHHHHAAAA....................",  // 19  Флорида
            "...............HHHHHAAAAAA...................",  // 20
            "................HHHHAAAAA....................",  // 21
            ".................HHHAAAA.....................",  // 22
            "..................HHAAAA.....................",  // 23  полуостров
            "...................HAAA......................",  // 24
            "....................HAAA.....................",  // 25
            ".....................AAA.....................",  // 26
            "......................AA.....................",  // 27
            ".......................A.....................",  // 28
        };
        TEMPLATES.put("usa", new NationTemplate("Соединённые Штаты Америки", NationColor.BLUE, parseMap(usMap, us)));


        // =================================================================
        //  БРАЗИЛИЯ — ~550 чанков, 6 городов
        //  Северо-восток — выпуклый мыс с зазубринами (Натал, Ресифи),
        //  Север — дельта Амазонки неровная,
        //  Запад — волнистая граница (Пантанал, Амазония),
        //  Юг — сужается, побережье зазубренное (заливы)
        // =================================================================
        Map<Character, String> br = new HashMap<>();
        br.put('M', "Манаус"); br.put('F', "Форталеза"); br.put('V', "Сальвадор");
        br.put('B', "Бразилиа"); br.put('R', "Рио-де-Жанейро"); br.put('P', "Сан-Паулу");

        String[] brMap = {
            //         111111111122222222223333
            //123456789012345678901234567890123456
            "......MMMMMM..FFFFF..................",  // 0   Дельта Амазонки — неровная
            ".....MMMMMMM.FFFFFFF.................",  // 1
            "....MMMMMMMMMFFFFFFFF................",  // 2
            "...MMMMMMMMMM.FFFFFFF...............",  // 3   зазубрина на севере
            "..MMMMMMMMMMMMFFFFFFFF...............",  // 4
            "..MMMMMMMMMMMBBVVVVVVV...............",  // 5
            "...MMMMMMMMMBBBVVVVVVVV..............",  // 6
            "....MMMMMMMBBBBVVVVVVVVV.............",  // 7   северо-восточный мыс
            ".....MMMMMMBBBBVVVVVVVV..............",  // 8
            "......MMMMMBBBBVVVVVVVV..............",  // 9
            ".......MMMMBBBBBBVVVVVV..............",  // 10
            "........MMMBBBBBBVVVVV...............",  // 11
            ".........MMBBBBBBVVVVV...............",  // 12
            "..........MBBBBBBVVVV................",  // 13
            "...........BBBBBBRRRR................",  // 14
            "............BBBBBRRRR................",  // 15
            ".............BBBBRRRR................",  // 16
            "..............BBBRRRRR...............",  // 17
            "...............BBPRRR................",  // 18
            "................BPPPRRR..............",  // 19  побережье зазубрины
            ".................PPPPPR..............",  // 20
            "..................PPPPP..............",  // 21
            "...................PPPP..............",  // 22  сужение к югу
            "....................PPP..............",  // 23
            ".....................PP..............",  // 24
            "......................P..............",  // 25
        };
        TEMPLATES.put("brazil", new NationTemplate("Федеративная Республика Бразилия", NationColor.GREEN, parseMap(brMap, br)));


        // =================================================================
        //  ИНДИЯ — ~350 чанков, 6 городов
        //  Гималаи — зазубренный север,
        //  Раджастан (запад) — волнистая пустынная граница,
        //  Западное побережье (Конкан) — зазубренное,
        //  Восточное побережье — плавнее,
        //  Треугольник полуострова с Коморин внизу,
        //  Кач и Катхиавар — выступы слева
        // =================================================================
        Map<Character, String> in = new HashMap<>();
        in.put('J', "Джайпур"); in.put('D', "Дели"); in.put('K', "Калькутта");
        in.put('M', "Мумбаи"); in.put('B', "Бангалор"); in.put('C', "Ченнаи");

        String[] inMap = {
            //         1111111111222222222233
            //12345678901234567890123456789012
            ".....JJJJ.DDDDDD..................",  // 0  Гималаи — зазубрины
            "....JJJJJ.DDDDDDD................",  // 1
            "...JJJJJJJDDDDDDDD.KK............",  // 2
            "..JJJJJJJJDDDDDDDDDKKKK..........",  // 3
            "..JJJJJJJJDDDDDDDDDDKKKKK........",  // 4
            ".JJJJJJJJJDDDDDDDDDDDKKKKK.......",  // 5
            ".JJJJJJJJDDDDDDDDDDDDKKKKKK......",  // 6  Калькутта выступ
            ".MMMMMMMJDDDDDDDDDDDDKKKKKKK.....",  // 7
            "MMMMMMMMMMDDDDDDDDDDKKKKKK........",  // 8  Кач — выступ слева
            "MMMMMMMMMMMDDDDDDDDKKKKKKK........",  // 9
            ".MMMMMMMMMMMDDDDDKKKKKKK...........",  // 10
            ".MMMMMMMMMMMBBBBBBCCCCC............",  // 11
            "..MMMMMMMMMMBBBBBBCCCCC............",  // 12  западное побережье зазубрины
            "..MMMMMMMMMBBBBBBCCCCCC............",  // 13
            "...MMMMMMMMBBBBBBCCCCC.............",  // 14
            "....MMMMMMBBBBBBBCCCC..............",  // 15
            ".....MMMMMBBBBBBCCCC...............",  // 16
            "......MMMMBBBBBBCCC................",  // 17
            ".......MMMBBBBBBCC.................",  // 18  сужение полуострова
            "........MMBBBBBCC..................",  // 19
            ".........MBBBBBCC..................",  // 20
            "..........BBBBBC...................",  // 21
            "...........BBBBC...................",  // 22
            "............BBBC...................",  // 23
            ".............BBB...................",  // 24  мыс Коморин
            "..............BB...................",  // 25
            "...............B...................",  // 26
        };
        TEMPLATES.put("india", new NationTemplate("Республика Индия", NationColor.TEAL, parseMap(inMap, in)));


        // =================================================================
        //  ТУРЦИЯ — ~220 чанков, 6 городов
        //  Фракия (Стамбул) — маленький выступ слева через проливы,
        //  Черноморское побережье — зазубренное,
        //  Эгейское побережье — очень зазубренное (полуострова),
        //  Восточная Анатолия — гористая неровная граница,
        //  Средиземноморское побережье — заливы (Анталья, Мерсин),
        //  Хатай — выступ на юге
        // =================================================================
        Map<Character, String> tr = new HashMap<>();
        tr.put('S', "Стамбул"); tr.put('A', "Анкара"); tr.put('I', "Измир");
        tr.put('L', "Анталья"); tr.put('T', "Трабзон"); tr.put('G', "Газиантеп");

        String[] trMap = {
            //         1111111111222222222233333333334444
            //1234567890123456789012345678901234567890123456
            "..SS..AAAAAAAAATTTTTTTTT........................",  // 0  Фракия — отделена
            "..SSSAAAAAAAAAAATTTTTTTTTT......................",  // 1
            ".SSSSAAAAAAAAAAAATTTTTTTTTTT....................",  // 2  Черноморское побережье
            "SSIIIAAAAAAAAAAATTTTTTTTTTTGGG..................",  // 3
            "SSIIIIAAAAAAAAAAATTTTTTTTTTTTGGGG...............",  // 4
            ".IIIIIAAAAAAAAAAATTTTTTTTTTTTGGGGG..............",  // 5
            ".IIIIIILLLAAAAAATTTTTTTTTTTTTGGGG...............",  // 6  Эгейское побережье зазубрины
            "..IIIILLLLLAAAAATTTTTTTTTTTGGGG.................",  // 7
            "..III.LLLLLLAAAA.TTTTTTTTTGGG...................",  // 8  заливы Средиземноморья
            "...I..LLLLLLLAA...TTTTTTTGG.....................",  // 9
            "......LLLLLLLA.....TTTTTGG......................",  // 10 Хатай — выступ
            ".......LLLLLL.......TTTGG.......................",  // 11
            "........LLLLL........TGG........................",  // 12
            ".........LLLL........GG.........................",  // 13
            "..........LLL........G..........................",  // 14
        };
        TEMPLATES.put("turkey", new NationTemplate("Турецкая Республика", NationColor.ORANGE, parseMap(trMap, tr)));


        // =================================================================
        //  ФРАНЦИЯ — ~200 чанков, 7 городов
        //  Бретань — полуостров выступает влево с заливами,
        //  Нормандия — зазубренная (Ла-Манш),
        //  Альпы/Юра — неровная восточная граница,
        //  Ривьера — заливы (Лионский залив),
        //  Пиренеи — зазубренная южная граница,
        //  Корсика не включена (остров)
        // =================================================================
        Map<Character, String> fr = new HashMap<>();
        fr.put('N', "Нант"); fr.put('P', "Париж"); fr.put('S', "Страсбург");
        fr.put('B', "Бордо"); fr.put('L', "Лион"); fr.put('T', "Тулуза"); fr.put('A', "Марсель");

        String[] frMap = {
            //         11111111112222222222
            //12345678901234567890123456789
            ".....NNPPPPPP..................",  // 0  Нормандия зазубрины
            "....NNNNPPPPPP.................",  // 1
            "...NNNNNNPPPPPPP..SS...........",  // 2
            "..NNNNNNNPPPPPPPP.SSS..........",  // 3  Бретань выступ
            "..NNNNNNBPPPPPPPPLLLSS.........",  // 4
            ".NNN.NBBPPPPPPPPLLLLSS.........",  // 5  залив внутри Бретани
            "...NNNBBBBPPPPPPLLLL...........",  // 6
            "....NBBBBBPPPPLLLLLL...........",  // 7
            ".....BBBBBBBPPLLLLLLL..........",  // 8
            "......BBBBBTTLLLLLLL..........",  // 9
            ".......BBBTTTTTLLLLLL..........",  // 10
            ".......BBTTTTTTAAAA............",  // 11  Пиренеи зазубрины
            "........TTTTTTTAAAA............",  // 12
            ".........TTTTTTAAAA............",  // 13  Ривьера — залив
            "..........TTTTTAAA.............",  // 14
            "...........TTTTAAA.............",  // 15
            "............TTTAA..............",  // 16
            ".............TTAA..............",  // 17
        };
        TEMPLATES.put("france", new NationTemplate("Французская Республика", NationColor.NAVY, parseMap(frMap, fr)));


        // =================================================================
        //  ЯПОНИЯ — ~170 чанков, 6 городов
        //  Хоккайдо — ромб с заливами (Утиура, Исикари),
        //  Пролив Цугару — разрыв 1 чанк,
        //  Хонсю — длинный изогнутый, расширения в Канто и Кансай,
        //    полуострова Ното, Кии выступают,
        //  Сикоку — маленький рядом,
        //  Кюсю — внизу с заливом Кагосима
        // =================================================================
        Map<Character, String> jp = new HashMap<>();
        jp.put('R', "Саппоро"); jp.put('T', "Токио"); jp.put('N', "Нагоя");
        jp.put('O', "Осака"); jp.put('H', "Хиросима"); jp.put('F', "Фукуока");

        String[] jpMap = {
            //         111111111
            //123456789012345678
            "...........RRR...........",  // 0   Хоккайдо
            "..........RRRR.R.........",  // 1   залив Утиура
            "..........RRRRR..........",  // 2
            "..........RRRRRR.........",  // 3   неровная форма
            "...........RRRRR.........",  // 4
            "...........RRRR..........",  // 5   пролив Цугару
            "............RR...........",  // 6
            "............T............",  // 7   Тохоку — узко
            "...........TT............",  // 8
            "..........TTT............",  // 9
            ".........TTTTT...........",  // 10  Канто расширение
            ".........TTTTTT..........",  // 11
            "........TTTTTT...........",  // 12
            "........TTTTT............",  // 13
            ".......NNTTT.............",  // 14  полуостров Ното
            "......NNNN...............",  // 15
            "......NNNNN..............",  // 16
            ".....NNNNN...............",  // 17
            "....OOONN................",  // 18  полуостров Кии
            "....OOOON................",  // 19
            "...OOOOO.................",  // 20  Сикоку
            "...OOOO..................",  // 21
            "..HHOO...................",  // 22
            "..HHHH...................",  // 23
            ".FHHHH...................",  // 24  залив Кагосима
            ".FFHH....................",  // 25
            "FFFF.....................",  // 26
            "FFF......................",  // 27
            "FF.......................",  // 28
            ".F.......................",  // 29
        };
        TEMPLATES.put("japan", new NationTemplate("Японская Империя", NationColor.WHITE, parseMap(jpMap, jp)));


        // =================================================================
        //  ГЕРМАНИЯ — ~160 чанков, 7 городов
        //  Побережье — Шлезвиг-Гольштейн зазубренный (фьорды),
        //  Рюген — выступ справа сверху,
        //  Рейнланд — выемки слева (долина Рейна),
        //  Бавария — расширяется внизу, Альпы зазубренные,
        //  Саксония — неровная восточная граница
        // =================================================================
        Map<Character, String> de = new HashMap<>();
        de.put('H', "Гамбург"); de.put('B', "Берлин"); de.put('K', "Кёльн");
        de.put('F', "Франкфурт"); de.put('D', "Дрезден"); de.put('S', "Штутгарт"); de.put('Q', "Мюнхен");

        String[] deMap = {
            //         11111111112222
            //12345678901234567890123456
            "....HH.H.BBBBB..............",  // 0  фьорды Шлезвиг
            "...HHHHH.BBBBBB..............",  // 1  Рюген выступ
            "...HHHHHH.BBBBB..............",  // 2
            "..HHHHHHH.BBBBBD.............",  // 3
            "..HHHHHHHFFBDDDDDD............",  // 4
            ".KKKHHHHFFFFDDDDD.............",  // 5  Рейнланд — выемка
            ".KKKKKHFFFFFFDDD..............",  // 6
            "..KKKKKFFFFFFFF...............",  // 7
            "...KKFFFFFFFS.................",  // 8
            "...KKFFFFFFSSS................",  // 9
            "....KFFFFFSSSS................",  // 10
            ".....FFFFSSSSS................",  // 11
            "......FFSSSSSSS...............",  // 12  Альпы зазубрины
            "......SSSSQQQQQ...............",  // 13
            ".......SSQQQQQQQ..............",  // 14
            "........SQQQQQQ...............",  // 15
            ".........QQQQQ................",  // 16
            "..........QQQQ................",  // 17
        };
        TEMPLATES.put("germany", new NationTemplate("Федеративная Республика Германия", NationColor.GOLD, parseMap(deMap, de)));


        // =================================================================
        //  ВЕЛИКОБРИТАНИЯ — ~130 чанков, 7 городов
        //  Шотландия — заливы (Ферт-оф-Форт, Клайд), полуострова,
        //  Хайлендс с выступами на севере,
        //  Озёрный край — вмятина слева,
        //  Уэльс — выступает влево (Пембрукшир),
        //  Корнуолл — длинный полуостров внизу слева,
        //  Восточная Англия — выпуклая,
        //  Ла-Манш побережье зазубренное
        // =================================================================
        Map<Character, String> uk = new HashMap<>();
        uk.put('E', "Эдинбург"); uk.put('G', "Глазго"); uk.put('M', "Манчестер");
        uk.put('W', "Ливерпуль"); uk.put('B', "Бирмингем"); uk.put('R', "Бристоль"); uk.put('L', "Лондон");

        String[] ukMap = {
            //         111111
            //123456789012345678
            "......E.E............",  // 0  Хайлендс зазубрины
            "....GEEEE............",  // 1  заливы Шотландии
            "....GGEEE............",  // 2
            "...GGGE..............",  // 3  Ферт-оф-Клайд — выемка
            "....GGE..............",  // 4
            "....GGMM.............",  // 5
            "...WGMMM.............",  // 6  Озёрный край — вмятина
            "...WWMMM.............",  // 7
            "...WWMM..............",  // 8
            "..WWWBB..............",  // 9  Уэльс выступает
            "..WWWBBB.............",  // 10
            "...WWBBBB............",  // 11
            "...RRBBB.............",  // 12
            "...RRRBB.............",  // 13
            "....RRBBL............",  // 14
            "....RRLLL............",  // 15
            "....RLLLL............",  // 16 Восточная Англия — выпуклая
            ".....LLLLL...........",  // 17
            ".....LLLLLL..........",  // 18
            "......LLLLL..........",  // 19 Ла-Манш побережье
            "......LLLL...........",  // 20
            ".......LLL...........",  // 21 Корнуолл
            ".......LL............",  // 22
            "........L............",  // 23
        };
        TEMPLATES.put("uk", new NationTemplate("Соединённое Королевство", NationColor.PURPLE, parseMap(ukMap, uk)));


        // =================================================================
        //  РУМЫНИЯ — ~120 чанков, 5 городов
        //  Карпаты — дугой создают внутреннюю неровность,
        //  Трансильвания внутри дуги,
        //  Дунай — зазубренная южная граница (дельта!),
        //  Побережье Чёрного моря — выпуклое с Констанцей,
        //  Молдова — восточная граница по Пруту неровная
        // =================================================================
        Map<Character, String> ro = new HashMap<>();
        ro.put('C', "Клуж-Напока"); ro.put('I', "Яссы"); ro.put('T', "Тимишоара");
        ro.put('B', "Бухарест"); ro.put('O', "Констанца");

        String[] roMap = {
            //         1111111111222222
            //1234567890123456789012345
            "....CCCCC.IIIIIII...........",  // 0  Молдова неровная
            "...CCCCCCCIIIIIII...........",  // 1
            "..CCCCCCCCIIIIIII...........",  // 2
            ".TTCCCCCCCIIIII.I...........",  // 3  зазубрина Прут
            ".TTTCCCCCCIIIIIII...........",  // 4
            ".TTTTCCCCCBBBIII............",  // 5
            ".TTTTTCCBBBBBBII............",  // 6
            "..TTTTTBBBBBBBBOOO..........",  // 7  побережье
            "..TTTTBBBBBBBBBOOOO.........",  // 8
            "...TTBBBBBBBBBBOOOO.........",  // 9
            "....TBBBBBBBBB.OOO.........",  // 10 дельта Дуная — зазубрины
            ".....BBBBBBBBOOO...........",  // 11
            "......BBBBBBOOO............",  // 12
            ".......BBBBBOO..............",  // 13
        };
        TEMPLATES.put("romania", new NationTemplate("Румыния", NationColor.YELLOW, parseMap(roMap, ro)));
    }

    public static NationTemplate getTemplate(String name) {
        return TEMPLATES.get(name.toLowerCase());
    }

    public static Set<String> getAvailableTemplates() {
        return TEMPLATES.keySet();
    }
}
