package com.nations.data;

import java.util.*;

public class NationTemplate {

    private final String nationName;
    private final NationColor color;
    private final List<TownTemplate> towns;

    public NationTemplate(String nationName, NationColor color, List<TownTemplate> towns) {
        this.nationName = nationName;
        this.color = color;
        this.towns = towns;
    }

    public String getNationName() { return nationName; }
    public NationColor getColor() { return color; }
    public List<TownTemplate> getTowns() { return towns; }

    public int getTotalChunks() {
        int t = 0; for (TownTemplate tt : towns) t += tt.getChunkCount(); return t;
    }

    public static class TownTemplate {
        public final String name;
        public final List<int[]> chunks;
        public TownTemplate(String name, List<int[]> chunks) { this.name = name; this.chunks = chunks; }
        public int getChunkCount() { return chunks.size(); }
        public int[] getCenter() {
            if (chunks.isEmpty()) return new int[]{0, 0};
            long sx = 0, sz = 0;
            for (int[] c : chunks) { sx += c[0]; sz += c[1]; }
            return new int[]{(int)(sx / chunks.size()), (int)(sz / chunks.size())};
        }
    }

    private static List<TownTemplate> parseMap(String[] map, Map<Character, String> key) {
        Map<String, List<int[]>> tmp = new HashMap<>();
        int h = map.length, w = 0;
        for (String s : map) if (s.length() > w) w = s.length();
        int cx = w / 2, cz = h / 2;
        for (int z = 0; z < h; z++) {
            String row = map[z];
            for (int x = 0; x < row.length(); x++) {
                char c = row.charAt(x);
                if (c == ' ' || c == '.') continue;
                String city = key.get(c);
                if (city != null) tmp.computeIfAbsent(city, k -> new ArrayList<>()).add(new int[]{x - cx, z - cz});
            }
        }
        List<TownTemplate> res = new ArrayList<>();
        for (var e : tmp.entrySet()) res.add(new TownTemplate(e.getKey(), e.getValue()));
        return res;
    }

    private static final Map<String, NationTemplate> TEMPLATES = new HashMap<>();

    static {

        // =================================================================
        //  РОССИЯ — ~1400 чанков, 18 городов (~78 чанков/город)
        //
        //  Города-регионы (каждый = крупный регион):
        //  U = Мурманск (Кольский полуостров + Архангельск)
        //  S = Санкт-Петербург (Ленобласть + Карелия + Псков)
        //  M = Москва (Центральная Россия)
        //  N = Нижний Новгород (Поволжье запад)
        //  D = Краснодар (Юг России + Крым)
        //  K = Казань (Среднее Поволжье + Удмуртия)
        //  I = Калининград (отделённый анклав)
        //  E = Екатеринбург (Урал + Пермь + Челябинск)
        //  O = Новосибирск (Западная Сибирь + Омск + Алтай)
        //  R = Красноярск (Центральная Сибирь + Тува)
        //  Y = Якутск (Якутия — огромная территория)
        //  V = Владивосток (Приморье + Хабаровск + Камчатка + Сахалин)
        //  Z = Новая Земля (арктический остров — отделён)
        //  W = Воронеж (Черноземье + Волгоград)
        //  P = Пермь-Тюмень (Западный Урал + ХМАО)
        //  A = Архангельск (Север европейской части)
        //  G = Магадан (Колыма + Чукотка)
        //  B = Норильск (Таймыр — северная Сибирь)
        //
        //  Граница севера — Северный Ледовитый океан (неровная)
        //  Граница запада — Финляндия, Балтика, Беларусь, Украина
        //  Граница юга — Казахстан, Монголия, Китай (волнистая)
        //  Граница востока — Тихий океан (зазубрины)
        //  Калининград отделён от основной территории
        //  Новая Земля — отдельный остров выше
        // =================================================================
        Map<Character, String> ru = new HashMap<>();
        ru.put('U', "Мурманск"); ru.put('S', "Санкт-Петербург"); ru.put('M', "Москва");
        ru.put('N', "Нижний Новгород"); ru.put('D', "Краснодар"); ru.put('K', "Казань");
        ru.put('I', "Калининград"); ru.put('E', "Екатеринбург"); ru.put('O', "Новосибирск");
        ru.put('R', "Красноярск"); ru.put('Y', "Якутск"); ru.put('V', "Владивосток");
        ru.put('Z', "Новая Земля"); ru.put('W', "Воронеж"); ru.put('P', "Тюмень");
        ru.put('A', "Архангельск"); ru.put('G', "Магадан"); ru.put('B', "Норильск");

        String[] ruMap = {
            //         1111111111222222222233333333334444444444555555555566666666667777777777888888888899999999990000000000111111111112
            //1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234
            "............................ZZZ.....................................................................................................",  // 0  Новая Земля — остров
            "...........................ZZZZZ....................................................................................................",  // 1
            "...........................ZZZZZZ...................................................................................................",  // 2
            "............................ZZZZ....................................................................................................",  // 3
            "............................ZZZ.....................................................................................................",  // 4
            ".............................................................................................................................",  // 5  море
            "..............UUU.U.............................................................................................................",  // 6  Кольский зазубрины
            ".............UUUUUU............................................................................................................",  // 7
            "............UUUUUUU............................................................................................................",  // 8
            "...........UUUUUUUU..AAAA......................................................................................................",  // 9  Архангельск
            "..........UUUUUUUU..AAAAAA.....................................................................................................",  // 10
            "..........UUUUUUU..AAAAAAA..........BBBBB......................................................................................",  // 11 Норильск — Таймыр
            ".........SSSSUUU..AAAAAAAA..........BBBBBBB....................................................................................",  // 12
            "........SSSSSUU..AAAAAAAAA.........BBBBBBBBB..................................................................................",  // 13
            ".......SSSSSSS..AAAAAAAAAA.........BBBBBBBBB..................................................................................",  // 14
            "......SSSSSSSS..AAAAAAAAA..........BBBBBBBB...................................................................................",  // 15
            "......SSSSSSMM..AAAAAAAA............BBBBBBB..................................................................................",  // 16
            ".....SSSSSMMMM..AAAAAAA..............BBBBB...................................................................................",  // 17
            "....SSSSSMMMMM..AAAAAAA..............................................YYYYYYYYY................................................",  // 18
            "....SSSSMMMMMMNNNNKKKKEEEEPPPPOOOOOO.RRRRRRRRR...............YYYYYYYYYYYYYYYYY................................................",  // 19 основная полоса
            "....SSSMMMMMMMNNNKKKKKEEEEPPPPOOOOOOORRRRRRRRRR.............YYYYYYYYYYYYYYYYYY...............................................",  // 20
            "...SSSMMMMMMMMNNNNKKKKEEEEPPPPOOOOOOORRRRRRRRRRRR...........YYYYYYYYYYYYYYYYYYGG.............................................",  // 21
            "...SSSMMMMMMMMNNNNKKKKKEEEEPPPPOOOOOOORRRRRRRRRRRRR.........YYYYYYYYYYYYYYYYYGGGG............................................",  // 22
            "..SSSMMMMMMMMMNNNNKKKKKEEEEPPPPOOOOOOORRRRRRRRRRRRRR........YYYYYYYYYYYYYYYYGGGGG............................................",  // 23
            "..DDWMMMMMMMMMNNNKKKKKEEEEPPPPOOOOOOOORRRRRRRRRRRRRRRR......YYYYYYYYYYYYYYYYGGGGGG...........................................",  // 24
            "..DDWWMMMMMMMMNNNKKKKKEEEEEPPPOOOOOOOORRRRRRRRRRRRRRRRR.....YYYYYYYYYYYYYYYGGGGGG...........................................",  // 25
            "..DDDWWMMMMMMMNNNKKKKKEEEEPPPPOOOOOOOORRRRRRRRRRRRRRRRRR....YYYYYYYYYYYYYYGGGGGG.VVVVV......................................",  // 26
            "..DDDWWWMMMMMMNNNKKKKKEEEEPPPPOOOOOOORRRRRRRRRRRRRRRRRR.....YYYYYYYYYYYYYGGGGG..VVVVVV......................................",  // 27
            "..DDDDWWMMMMMMNNNKKKKKEEEEEPPPOOOOOOORRRRRRRRRRRRRRRRR......YYYYYYYYYYYYGGGG....VVVVVVV.....................................",  // 28
            "...DDDWWMMMMMMNNNKKKKKEEEEPPPPOOOOOOORRRRRRRRRRRRRRRR.......YYYYYYYYYYYGGG......VVVVVVVV....................................",  // 29 Владивосток выступ
            "...DDDDWMMMMMMNNNKKKKKEEEEEPPPOOOOOORRRRRRRRRRRRRRRR........YYYYYYYYYYYY........VVVVVVV.....................................",  // 30
            "....DDDWMMMMMMNNNNKKKKEEEEEPPPOOOOOORRRRRRRRRRRRRRR.........YYYYYYYYYYYY.........VVVVV......................................",  // 31
            "....DDDDMMMMMMNNNKKKKKEEEE.PPPOOOOO.RRRRRRRRRRRRRR..........YYYYYYYYYYY..........VVV.......................................",  // 32
            ".....DDDMMMMMMNNNKKKKKEEEE.PPOOOOOO.RRRRRRRRRRRRR............YYYYYYYYYY...........VV.......................................",  // 33
            ".....DDDDMMMMMNNNKKKKEEEEE.PPOOOOOO.RRRRRRRRRRRRR............YYYYYYYYYYY...........V.......................................",  // 34
            "......DDDMMMMMNNNKKKKEEEE..PPOOOOO..RRRRRRRRRRRR..............YYYYYYYYY........VVVV........................................",  // 35 Сахалин отделён
            ".......DDMMMMMNNNKKKKEEE...PPOOOO...RRRRRRRRRRR................YYYYYYYY.......VVVVV........................................",  // 36
            "........DMMMMMNNKKKKEEE....PPOOO....RRRRRRRRRRR.................YYYYYYY......VVVVV.........................................",  // 37
            ".........DMMMMNNKKKKEE.....PPOO.....RRRRRRRRRR...................YYYYYY.....VVVVVV.........................................",  // 38
            "..........DMMMNKKKKEE......POO......RRRRRRRRR....................YYYYY......VVVVV..........................................",  // 39 Камчатка выступ
            "...........DMMNKKKKE.......PO.......RRRRRRRR.....................YYYY.......VVVV...........................................",  // 40
            "............DMNKKKKE...............RRRRRRR.......................YYY........VVVV............................................",  // 41
            ".............DNKKKE................RRRRRR........................YY........VVVV.............................................",  // 42
            "..............DKKE.................RRRRR.........................Y.........VVV..............................................",  // 43
            "...............DKE.................RRRR......................................VV..............................................",  // 44
            "................DE.................RRR.......................................V...............................................",  // 45
            ".................D.................RR..........................................................................................",  // 46
            ".......................................................................",  // 47
            "II....................................................................",  // 48 Калининград — анклав
            "III...................................................................",  // 49
            "III...................................................................",  // 50
            "II....................................................................",  // 51
        };
        TEMPLATES.put("russia", new NationTemplate("Российская Федерация", NationColor.RED, parseMap(ruMap, ru)));


        // =================================================================
        //  КИТАЙ — ~800 чанков, 11 городов (~73 чанков/город)
        //
        //  Города-регионы:
        //  U = Урумчи (Синьцзян — запад)
        //  L = Лхаса (Тибет — юго-запад)
        //  H = Харбин (Маньчжурия — северо-восток)
        //  P = Пекин (Хэбэй + Шаньдун + север)
        //  X = Сиань (Шэньси + Ганьсу — центр-запад)
        //  W = Ухань (Хубэй + Хунань — центр)
        //  S = Шанхай (Цзянсу + Чжэцзян — восток)
        //  C = Чэнду (Сычуань + Юньнань — юго-запад)
        //  G = Гуанчжоу (Гуандун + Гуанси — юг)
        //  F = Фучжоу (Фуцзянь — юго-восток)
        //  N = Нанкин (Аньхой + Цзянси — центр-восток)
        //
        //  Граница севера — Монголия, Россия
        //  Граница запада — Казахстан, Киргизия, Индия, Непал
        //  Граница юга — Вьетнам, Лаос, Мьянма
        //  Граница востока — Тихий океан, моря
        // =================================================================
        Map<Character, String> cn = new HashMap<>();
        cn.put('U', "Урумчи"); cn.put('L', "Лхаса"); cn.put('H', "Харбин");
        cn.put('P', "Пекин"); cn.put('X', "Сиань"); cn.put('W', "Ухань");
        cn.put('S', "Шанхай"); cn.put('C', "Чэнду"); cn.put('G', "Гуанчжоу");
        cn.put('F', "Фучжоу"); cn.put('N', "Нанкин");

        String[] cnMap = {
            //         1111111111222222222233333333334444444444555555
            //12345678901234567890123456789012345678901234567890123456
            "......................................HHHH..................",  // 0  Маньчжурия выступ на северо-восток
            ".....................................HHHHHH.................",  // 1
            "....................................HHHHHHH.................",  // 2
            "....................................HHHHHHHH................",  // 3
            "...................................HHHHHHHHH................",  // 4
            "UUUUUUUU.........................PPPPHHHHHH................",  // 5
            "UUUUUUUUUU......................PPPPPPPHHHH................",  // 6  Синьцзян широкий
            ".UUUUUUUUUUU..................PPPPPPPPPHH..................",  // 7
            ".UUUUUUUUUUUUU...............PPPPPPPPPPP...................",  // 8
            "..UUUUUUUUUUUUUU............PPPPPPPPPPPP..................",  // 9
            "..UUUUUUUUUUUUUUUXX.......XPPPPPPPPPPPP...................",  // 10
            "...UUUUUUUUUUUUUXXXX.....XXXXPPPPPPPPPP...................",  // 11
            "...UUUUUUUUUUUUUXXXXX...XXXXXNNNPPPSSS....................",  // 12
            "....UUUUUUUUUUUUXXXXXXXXXXXXXXNNNNSSSSS...................",  // 13
            ".....UUUUUUUUULLXXXXXXXXXXXXXXNNNNSSSSSS..................",  // 14
            "......UUUUUULLLLLXXXXXXXXXXXXXWWWNNSSSSS..................",  // 15
            ".......UUUULLLLLLLXXXXXXXXXXXXWWWWNNSSS...................",  // 16
            "........UULLLLLLLLXXXXXXXXXXXWWWWWNNSSS...................",  // 17
            ".........LLLLLLLLLLXXXXXXXXXXWWWWWWNNSS....................",  // 18
            "..........LLLLLLLLLXXXXXXXXXCWWWWWWNNSS....................",  // 19
            "...........LLLLLLLLXXXXXXXXCCWWWWWNNSFF...................",  // 20
            "............LLLLLLLXXXXXXXCCCCWWWWNNFFF...................",  // 21
            ".............LLLLLLXXXXXXCCCCCWWWGGGFFFF..................",  // 22
            "..............LLLLLLXXXXXCCCCCCWGGGGGFFF..................",  // 23
            "...............LLLLLLXXXXCCCCCCCGGGGGGFF..................",  // 24
            "................LLLLLXXXCCCCCCCGGGGGGGF...................",  // 25
            ".................LLLLLXXCCCCCCCCGGGGGGF...................",  // 26
            "..................LLLLXCCCCCCCCCGGGGGGG...................",  // 27
            "...................LLLCCCCCCCCCCGGGGGG....................",  // 28
            "....................LLCCCCCCCCCGGGGGGG....................",  // 29
            ".....................LCCCCCCCCGGGGGG......................",  // 30
            "......................CCCCCCCGGGGGGG......................",  // 31
            ".......................CCCCCCGGGGGG.......................",  // 32
            "........................CCCCCGGGGG.......................",  // 33
            ".........................CCCCGGGG........................",  // 34
            "..........................CCCGGG.........................",  // 35
            "...........................CCGG..........................",  // 36
        };
        TEMPLATES.put("china", new NationTemplate("Китайская Народная Республика", NationColor.DARK_RED, parseMap(cnMap, cn)));


        // =================================================================
        //  США — ~800 чанков, 11 городов (~73 чанков/город)
        //
        //  Города-регионы:
        //  T = Сиэтл (Вашингтон + Орегон — северо-запад)
        //  L = Лос-Анджелес (Калифорния — запад)
        //  X = Феникс (Аризона + Нью-Мексико — юго-запад)
        //  D = Денвер (Колорадо + Вайоминг + Юта — горы)
        //  C = Чикаго (Иллинойс + Мичиган + Огайо — центр-север)
        //  H = Хьюстон (Техас — юг)
        //  K = Канзас-Сити (Канзас + Миссури + Оклахома — центр)
        //  N = Нью-Йорк (восточное побережье север)
        //  W = Вашингтон (Виргиния + Каролины — восток)
        //  A = Майами (Флорида — юго-восток)
        //  Q = Аляска (отделённая территория)
        //
        //  Граница севера — Канада
        //  Граница юга — Мексика (Рио-Гранде зазубрины)
        //  Граница запада — Тихий океан
        //  Граница востока — Атлантический океан
        //  Аляска отделена
        // =================================================================
        Map<Character, String> us = new HashMap<>();
        us.put('T', "Сиэтл"); us.put('L', "Лос-Анджелес"); us.put('X', "Феникс");
        us.put('D', "Денвер"); us.put('C', "Чикаго"); us.put('H', "Хьюстон");
        us.put('K', "Канзас-Сити"); us.put('N', "Нью-Йорк"); us.put('W', "Вашингтон");
        us.put('A', "Майами"); us.put('Q', "Аляска");

        String[] usMap = {
            //         1111111111222222222233333333334444444444555555
            //12345678901234567890123456789012345678901234567890123456
            "QQQQQQQQ...................................................",  // 0  Аляска — отделена
            "QQQQQQQQQQ.................................................",  // 1
            "QQQQQQQQQQQ................................................",  // 2
            "QQQQQQQQQQQQ...............................................",  // 3
            "QQQQQQQQQQQ................................................",  // 4
            "QQQQQQQQQQ.................................................",  // 5
            "QQQQQQQQQ..................................................",  // 6
            "QQQQQQQQ...................................................",  // 7
            "QQQQQQQ....................................................",  // 8
            "............................................................",  // 9  море между Аляской и основной
            "............................................................",  // 10
            "TTTT..............CCCCCCCC..NNNNN..........................",  // 11 основная территория
            "TTTTT............CCCCCCCCCCNNNNNNN.........................",  // 12
            ".TTTTT..........CCCCCCCCCCCNNNNNNN.........................",  // 13
            ".TTTTTT........CCCCCCCCCCCCNNNNNNNN........................",  // 14
            "TTTTTDDDD.....CCCCCCCCCCCCNNNNNNNNN.......................",  // 15
            "TTLLLDDDDDDDKKCCCCCCCCCCCWWWWWNNNNN.......................",  // 16
            "TLLLLDDDDDDDDKKKCCCCCCCCWWWWWWWWNNNN......................",  // 17
            "LLLLLDDDDDDDDDKKKKKCCCCWWWWWWWWWNNN.......................",  // 18
            "LLLLLDDDDDDDDDDKKKKKKCCWWWWWWWWWNN........................",  // 19
            ".LLLLDDDDDDDDDDKKKKKKKWWWWWWWWWWNN........................",  // 20
            ".LLLLDDDDDDDDDDDKKKKKKKWWWWWWWWWN.........................",  // 21
            "..LLLDDDDDDDDDDDDKKKKKKWWWWWWWWWW.........................",  // 22
            "..LLXDDDDDDDDDDDDKKKKKKWWWWWWWWWW.........................",  // 23
            "..LXXDDDDDDDDDDDDKKKKKHHWWWWWWWWW.........................",  // 24
            "...XXDDDDDDDDDDDDKKKKHHHHWWWWWWWW.........................",  // 25
            "...XXXDDDDDDDDDDDDKKKHHHHHWWWWWWW.........................",  // 26
            "....XXXDDDDDDDDDDDKKKHHHHHHWWWWW..........................",  // 27
            "....XXXXDDDDDDDDDDKKKHHHHHHWWWW...........................",  // 28
            ".....XXXXDDDDDDDDDKKKHHHHHHHWWW...........................",  // 29
            "......XXXXDDDDDDDDKKKHHHHHHWW.............................",  // 30
            ".......XXXDDDDDDDDDKKHHHHHH...............................",  // 31
            "........XXDDDDDDDDDKHHHHHH................................",  // 32
            ".........XDDDDDDDDDHHHHH.................................",  // 33
            "..........XDDDDDDDDHHHHH.................................",  // 34
            "...........XDDDDDDHHHHHH..................................",  // 35
            "....................HHHHHAAAA...............................",  // 36 Флорида
            "....................HHHHAAAAAA.............................",  // 37
            ".....................HHHAAAAA..............................",  // 38
            "......................HHAAAA...............................",  // 39
            ".......................HAAA................................",  // 40
            "........................AAA................................",  // 41
            ".........................AA................................",  // 42
            "..........................A................................",  // 43
        };
        TEMPLATES.put("usa", new NationTemplate("Соединённые Штаты Америки", NationColor.BLUE, parseMap(usMap, us)));


        // =================================================================
        //  БРАЗИЛИЯ — ~700 чанков, 9 городов (~78 чанков/город)
        //
        //  Города-регионы:
        //  M = Манаус (Амазонас — северо-запад)
        //  B = Белен (Пара — север, дельта)
        //  F = Форталеза (Сеара + РН + Пиауи — северо-восток)
        //  V = Сальвадор (Баия + Сержипи — восток)
        //  R = Ресифи (Пернамбуку + Параиба + Алагоас)
        //  Z = Бразилиа (Гоиас + МГ + DF — центр)
        //  J = Рио-де-Жанейро (RJ + ES — юго-восток)
        //  P = Сан-Паулу (SP + PR + SC — юг)
        //  T = Порту-Алегри (RS — крайний юг)
        // =================================================================
        Map<Character, String> br = new HashMap<>();
        br.put('M', "Манаус"); br.put('B', "Белен"); br.put('F', "Форталеза");
        br.put('V', "Сальвадор"); br.put('R', "Ресифи"); br.put('Z', "Бразилиа");
        br.put('J', "Рио-де-Жанейро"); br.put('P', "Сан-Паулу"); br.put('T', "Порту-Алегри");

        String[] brMap = {
            //         1111111111222222222233333333334444
            //1234567890123456789012345678901234567890123456
            ".......MMMMMM.BBBBBFFFF........................",  // 0
            "......MMMMMMM.BBBBBBFFFFF.......................",  // 1
            ".....MMMMMMMMMBBBBBBFFFFFF......................",  // 2
            "....MMMMMMMMMMBBBBBBFFFFFF......................",  // 3
            "...MMMMMMMMMMMBBBBBBFFFFFFRRR...................",  // 4  Nordeste выступ
            "..MMMMMMMMMMMMBBBBBBFFFFFRRRRR..................",  // 5
            "..MMMMMMMMMMMMBBBBBBBFFFFRRRRRR.................",  // 6
            "...MMMMMMMMMMMBBBBBBBFFFRRRRRRR.................",  // 7
            "....MMMMMMMMMMBBBBBBBFFRRRRRRRR.................",  // 8
            ".....MMMMMMMMMBBBBBZZZZRRRRRRR..................",  // 9
            "......MMMMMMMMBBBZZZZZZRRRRRR...................",  // 10
            ".......MMMMMMMBBZZZZZZZZVVVVVV..................",  // 11
            "........MMMMMMBBZZZZZZZVVVVVVVV.................",  // 12
            ".........MMMMMBBZZZZZZVVVVVVVV..................",  // 13
            "..........MMMMBZZZZZZZVVVVVVV...................",  // 14
            "...........MMMZZZZZZZZVVVVVV....................",  // 15
            "............MMZZZZZZZZVVVVV.....................",  // 16
            ".............MZZZZZZZZJJJVV.....................",  // 17
            "..............ZZZZZZZJJJJV......................",  // 18
            "...............ZZZZZZJJJJJ......................",  // 19
            "................ZZZZZJJJJJ......................",  // 20
            ".................ZZZZJJJJ.......................",  // 21
            "..................ZZPJJJJ.......................",  // 22
            "...................ZPPPJJJ......................",  // 23
            "....................PPPPPJJ.....................",  // 24
            ".....................PPPPPP.....................",  // 25
            "......................PPPPP.....................",  // 26
            ".......................PPPP.....................",  // 27
            "........................PPP.....................",  // 28
            ".........................PPP....................",  // 29
            "..........................TTT...................",  // 30
            "..........................TTT...................",  // 31
            "...........................TT...................",  // 32
            "............................T...................",  // 33
        };
        TEMPLATES.put("brazil", new NationTemplate("Федеративная Республика Бразилия", NationColor.GREEN, parseMap(brMap, br)));


        // =================================================================
        //  ИНДИЯ — ~450 чанков, 7 городов (~64 чанков/город)
        //
        //  Города-регионы:
        //  D = Дели (Дели + Уттар-Прадеш + Харьяна — север)
        //  J = Джайпур (Раджастан + Гуджарат — северо-запад)
        //  K = Калькутта (Западная Бенгалия + Бихар + Орисса — восток)
        //  M = Мумбаи (Махараштра + Мадхья-Прадеш — запад)
        //  H = Хайдерабад (Телангана + Андхра — центр-юг)
        //  B = Бангалор (Карнатака + Керала — юго-запад)
        //  C = Ченнаи (Тамилнад — юго-восток)
        // =================================================================
        Map<Character, String> in = new HashMap<>();
        in.put('D', "Дели"); in.put('J', "Джайпур"); in.put('K', "Калькутта");
        in.put('M', "Мумбаи"); in.put('H', "Хайдерабад"); in.put('B', "Бангалор");
        in.put('C', "Ченнаи");

        String[] inMap = {
            //         1111111111222222222233
            //12345678901234567890123456789012
            "......JJJDDDDDDDD..................",  // 0
            ".....JJJJDDDDDDDDD.................",  // 1
            "....JJJJJJDDDDDDDDD................",  // 2
            "...JJJJJJJDDDDDDDDDKK..............",  // 3
            "...JJJJJJJDDDDDDDDDDKKK............",  // 4
            "..JJJJJJJJDDDDDDDDDDDKKKK..........",  // 5
            "..JJJJJJJJDDDDDDDDDDDDKKKKK........",  // 6
            ".JJJJJJJJJDDDDDDDDDDDDKKKKKK.......",  // 7
            ".JJJJJJJJDDDDDDDDDDDDKKKKKKK.......",  // 8
            ".MMMMMMJJDDDDDDDDDDDDKKKKKK.........",  // 9
            "MMMMMMMMMDDDDDDDDDDDKKKKKKK..........",  // 10
            "MMMMMMMMMMDDDDDDDDDKKKKKK............",  // 11
            "MMMMMMMMMMMMDDDDDDKKKKKK..............",  // 12
            ".MMMMMMMMMMMMHHHHHHHCCCCC..............",  // 13
            ".MMMMMMMMMMMHHHHHHHHHCCCCC.............",  // 14
            "..MMMMMMMMMMHHHHHHHHHCCCCCC............",  // 15
            "..MMMMMMMMMHHHHHHHHHCCCCCC.............",  // 16
            "...MMMMMMMMHHHHHHHHHCCCCC..............",  // 17
            "....MMMMMMMHHHHHHHHCCCCCC..............",  // 18
            ".....MMMMMMHHHHHHHCCCCC................",  // 19
            "......MMMMMHHHHHHHCCCC.................",  // 20
            ".......MMMMBBBBHHCCCC..................",  // 21
            "........MMMBBBBBHCCC...................",  // 22
            ".........MMBBBBBHCC....................",  // 23
            "..........MBBBBBBCC....................",  // 24
            "...........BBBBBBC.....................",  // 25
            "............BBBBBC.....................",  // 26
            ".............BBBBC.....................",  // 27
            "..............BBBC.....................",  // 28
            "...............BBB.....................",  // 29
            "................BB.....................",  // 30
            ".................B.....................",  // 31
        };
        TEMPLATES.put("india", new NationTemplate("Республика Индия", NationColor.TEAL, parseMap(inMap, in)));


        // =================================================================
        //  ТУРЦИЯ — ~280 чанков, 6 городов (~47 чанков/город)
        //
        //  S = Стамбул (Фракия + Мраморноморье)
        //  A = Анкара (Центральная Анатолия)
        //  I = Измир (Эгейское побережье)
        //  L = Анталья (Средиземноморье)
        //  T = Трабзон (Черноморское побережье)
        //  G = Газиантеп (Юго-восток + Хатай)
        // =================================================================
        Map<Character, String> tr = new HashMap<>();
        tr.put('S', "Стамбул"); tr.put('A', "Анкара"); tr.put('I', "Измир");
        tr.put('L', "Анталья"); tr.put('T', "Трабзон"); tr.put('G', "Газиантеп");

        String[] trMap = {
            //         1111111111222222222233333333334444444444555
            //123456789012345678901234567890123456789012345678901234
            "..SS..AAAAAAAAAAATTTTTTTTTTT............................",  // 0
            "..SSSAAAAAAAAAAATTTTTTTTTTTT............................",  // 1
            ".SSSAAAAAAAAAAAATTTTTTTTTTTTT...........................",  // 2
            "SSSIIAAAAAAAAAAAATTTTTTTTTTTTTGG........................",  // 3
            "SSIIIIAAAAAAAAAAAATTTTTTTTTTTTGGGG......................",  // 4
            ".IIIIIIAAAAAAAAAAATTTTTTTTTTTTGGGGG.....................",  // 5
            ".IIIIIIILLAAAAAAATTTTTTTTTTTTTTGGGG.....................",  // 6
            "..IIIIILLLLAAAAATTTTTTTTTTTTTGGG........................",  // 7
            "..III.LLLLLLAAAA.TTTTTTTTTTTGGG.........................",  // 8
            "...I..LLLLLLLAA...TTTTTTTTGGG..........................",  // 9
            "......LLLLLLLLA....TTTTTTTGG...........................",  // 10
            ".......LLLLLLL......TTTTGGG............................",  // 11
            "........LLLLLL.......TTGG..............................",  // 12
            ".........LLLLL........GG...............................",  // 13
            "..........LLLL........G................................",  // 14
            "...........LLL.........................................",  // 15
        };
        TEMPLATES.put("turkey", new NationTemplate("Турецкая Республика", NationColor.ORANGE, parseMap(trMap, tr)));


        // =================================================================
        //  ФРАНЦИЯ — ~260 чанков, 7 городов (~37 чанков/город)
        //
        //  N = Нант (Бретань + Нормандия + Луара — запад)
        //  P = Париж (Иль-де-Франс + Пикардия + Шампань)
        //  S = Страсбург (Эльзас + Лотарингия — восток)
        //  B = Бордо (Аквитания + Пуату — юго-запад)
        //  L = Лион (Рона-Альпы + Бургундия — юго-восток)
        //  T = Тулуза (Юг-Пиренеи + Лангедок — юг)
        //  A = Марсель (Прованс + Лазурный берег)
        // =================================================================
        Map<Character, String> fr = new HashMap<>();
        fr.put('N', "Нант"); fr.put('P', "Париж"); fr.put('S', "Страсбург");
        fr.put('B', "Бордо"); fr.put('L', "Лион"); fr.put('T', "Тулуза"); fr.put('A', "Марсель");

        String[] frMap = {
            //         11111111112222222222333
            //1234567890123456789012345678901234
            "......NNNPPPPPP.....................",  // 0
            ".....NNNNPPPPPPP....................",  // 1
            "....NNNNNPPPPPPPP.SS................",  // 2
            "...NNNNNNPPPPPPPPPSSSS..............",  // 3
            "..NNNNNNNPPPPPPPPPLLSSS.............",  // 4
            ".NNNNNNNBPPPPPPPPLLLLSS.............",  // 5
            "..NNNNBBBBPPPPPPLLLLL...............",  // 6
            "...NNNBBBBBPPPPPLLLLLL..............",  // 7
            "....NBBBBBBBPPPLLLLLLL..............",  // 8
            ".....BBBBBBBPPLLLLLLLL..............",  // 9
            "......BBBBBBTTLLLLLLL...............",  // 10
            ".......BBBTTTTTTLLLLLL..............",  // 11
            "........BBTTTTTTTAAAA...............",  // 12
            ".........TTTTTTTTAAAA...............",  // 13
            "..........TTTTTTTAAAA...............",  // 14
            "...........TTTTTTAAA................",  // 15
            "............TTTTTAAA................",  // 16
            ".............TTTTAA.................",  // 17
            "..............TTTAA.................",  // 18
            "...............TTAA.................",  // 19
        };
        TEMPLATES.put("france", new NationTemplate("Французская Республика", NationColor.NAVY, parseMap(frMap, fr)));


        // =================================================================
        //  ЯПОНИЯ — ~220 чанков, 6 городов (~37 чанков/город)
        //  Острова отделены друг от друга!
        //
        //  R = Саппоро (Хоккайдо — отдельный остров)
        //  T = Токио (Канто + Тохоку — восточный Хонсю)
        //  N = Нагоя (Тюбу — центральный Хонсю)
        //  O = Осака (Кансай — западный Хонсю + Сикоку)
        //  H = Хиросима (Тюгоку — юго-запад Хонсю)
        //  F = Фукуока (Кюсю — отдельный остров)
        // =================================================================
        Map<Character, String> jp = new HashMap<>();
        jp.put('R', "Саппоро"); jp.put('T', "Токио"); jp.put('N', "Нагоя");
        jp.put('O', "Осака"); jp.put('H', "Хиросима"); jp.put('F', "Фукуока");

        String[] jpMap = {
            //         111111111
            //123456789012345678
            "...........RRRR............",  // 0   Хоккайдо — отдельный остров
            "..........RRRRRR...........",  // 1
            "..........RRRRRRR..........",  // 2
            "..........RRRRRR...........",  // 3
            "...........RRRRR...........",  // 4
            "...........RRRR............",  // 5
            "............RRR............",  // 6
            "............................",  // 7   пролив Цугару — разрыв
            "............TT.............",  // 8   Хонсю начинается
            "...........TTT.............",  // 9
            "..........TTTT.............",  // 10
            ".........TTTTT.............",  // 11
            ".........TTTTTT............",  // 12  Канто расширение
            "........TTTTTT.............",  // 13
            "........TTTTT..............",  // 14
            ".......NNTTT...............",  // 15
            "......NNNNT................",  // 16
            "......NNNNN................",  // 17
            ".....NNNNN.................",  // 18
            "....OOONN..................",  // 19
            "....OOOOO..................",  // 20
            "...OOOOOO..................",  // 21  Сикоку рядом
            "...OOOOO...................",  // 22
            "..HHOOO....................",  // 23
            "..HHHH.....................",  // 24
            ".HHHHH.....................",  // 25
            ".HHHH......................",  // 26
            "............................",  // 27  пролив — разрыв
            ".FFFF......................",  // 28  Кюсю — отдельный остров
            "FFFFF......................",  // 29
            "FFFFFF.....................",  // 30
            "FFFFF......................",  // 31
            ".FFFF......................",  // 32
            "..FFF......................",  // 33
            "...FF......................",  // 34
        };
        TEMPLATES.put("japan", new NationTemplate("Японская Империя", NationColor.WHITE, parseMap(jpMap, jp)));


        // =================================================================
        //  ГЕРМАНИЯ — ~200 чанков, 7 городов (~29 чанков/город)
        //
        //  H = Гамбург (Шлезвиг + Нижняя Саксония — север)
        //  B = Берлин (Бранденбург + Мекленбург — северо-восток)
        //  K = Кёльн (Северный Рейн-Вестфалия — запад)
        //  F = Франкфурт (Гессен + Рейнланд-Пфальц)
        //  D = Дрезден (Саксония + Тюрингия — восток)
        //  S = Штутгарт (Баден-Вюртемберг — юго-запад)
        //  Q = Мюнхен (Бавария — юго-восток)
        // =================================================================
        Map<Character, String> de = new HashMap<>();
        de.put('H', "Гамбург"); de.put('B', "Берлин"); de.put('K', "Кёльн");
        de.put('F', "Франкфурт"); de.put('D', "Дрезден"); de.put('S', "Штутгарт"); de.put('Q', "Мюнхен");

        String[] deMap = {
            //         1111111111222222
            //1234567890123456789012345
            "....HHHH.BBBBB..............",  // 0
            "...HHHHHH.BBBBBB............",  // 1
            "...HHHHHHH.BBBBB............",  // 2
            "..HHHHHHHH.BBBBBD...........",  // 3
            "..HHHHHHHHFFDDDDDD..........",  // 4
            ".KKKHHHHHFFFFDDDDD..........",  // 5
            ".KKKKKHHFFFFFFDDD...........",  // 6
            "..KKKKKKFFFFFFFF............",  // 7
            "...KKKFFFFFFFS..............",  // 8
            "...KKFFFFFFFSSS.............",  // 9
            "....KFFFFFFSSSS.............",  // 10
            ".....FFFFFSSSSSS............",  // 11
            "......FFSSSSSSS.............",  // 12
            "......SSSSSQQQQQ............",  // 13
            ".......SSQQQQQQQ............",  // 14
            "........SQQQQQQQQ...........",  // 15
            ".........QQQQQQQ............",  // 16
            "..........QQQQQQ............",  // 17
            "...........QQQQQ............",  // 18
        };
        TEMPLATES.put("germany", new NationTemplate("Федеративная Республика Германия", NationColor.GOLD, parseMap(deMap, de)));


        // =================================================================
        //  ВЕЛИКОБРИТАНИЯ — ~160 чанков, 7 городов (~23 чанков/город)
        //
        //  E = Эдинбург (Шотландия — север)
        //  G = Глазго (Западная Шотландия)
        //  M = Манчестер (Северная Англия + Озёрный край)
        //  W = Ливерпуль (Уэльс + Мидлендс запад)
        //  B = Бирмингем (Центральная Англия)
        //  R = Бристоль (Юго-запад + Корнуолл)
        //  L = Лондон (Юго-восток)
        // =================================================================
        Map<Character, String> uk = new HashMap<>();
        uk.put('E', "Эдинбург"); uk.put('G', "Глазго"); uk.put('M', "Манчестер");
        uk.put('W', "Ливерпуль"); uk.put('B', "Бирмингем"); uk.put('R', "Бристоль"); uk.put('L', "Лондон");

        String[] ukMap = {
            //         111111
            //123456789012345678
            "......EE..............",  // 0
            "....GEEEE.............",  // 1
            "....GGEEE.............",  // 2
            "...GGGEE..............",  // 3
            "....GGEE..............",  // 4
            "....GGMM..............",  // 5
            "...WGMMM..............",  // 6
            "...WWMMMM.............",  // 7
            "...WWMMM..............",  // 8
            "..WWWBB...............",  // 9
            "..WWWBBB..............",  // 10
            "...WWBBBB.............",  // 11
            "...RRBBB..............",  // 12
            "...RRRBBL.............",  // 13
            "....RRBLL.............",  // 14
            "....RRLLL.............",  // 15
            "....RLLLL.............",  // 16
            ".....LLLLL............",  // 17
            ".....LLLLLL...........",  // 18
            "......LLLLL...........",  // 19
            "......LLLL............",  // 20
            ".......LLL............",  // 21
            ".......LL.............",  // 22
            "........L.............",  // 23
        };
        TEMPLATES.put("uk", new NationTemplate("Соединённое Королевство", NationColor.PURPLE, parseMap(ukMap, uk)));


        // =================================================================
        //  РУМЫНИЯ — ~140 чанков, 5 городов (~28 чанков/город)
        //
        //  C = Клуж-Напока (Трансильвания — центр-запад)
        //  I = Яссы (Молдова — восток)
        //  T = Тимишоара (Банат + Олтения — запад)
        //  B = Бухарест (Валахия — юг)
        //  O = Констанца (Добруджа — юго-восток)
        // =================================================================
        Map<Character, String> ro = new HashMap<>();
        ro.put('C', "Клуж-Напока"); ro.put('I', "Яссы"); ro.put('T', "Тимишоара");
        ro.put('B', "Бухарест"); ro.put('O', "Констанца");

        String[] roMap = {
            //         1111111111222222
            //1234567890123456789012345
            "....CCCCCC.IIIIIII..........",  // 0
            "...CCCCCCCCIIIIIIII.........",  // 1
            "..CCCCCCCCCIIIIIII..........",  // 2
            ".TTCCCCCCCCIIIIII...........",  // 3
            ".TTTCCCCCCCIIIIII...........",  // 4
            ".TTTTCCCCCBBBIIII...........",  // 5
            ".TTTTTCCBBBBBBBII...........",  // 6
            "..TTTTTBBBBBBBBBOOO.........",  // 7
            "..TTTBBBBBBBBBBOOOO.........",  // 8
            "...TTBBBBBBBBBBOOOOO........",  // 9
            "....TBBBBBBBBB.OOOO.........",  // 10
            ".....BBBBBBBBBOOOO..........",  // 11
            "......BBBBBBBOOOO...........",  // 12
            ".......BBBBBBOOO............",  // 13
            "........BBBBBOO.............",  // 14
        };
        TEMPLATES.put("romania", new NationTemplate("Румыния", NationColor.YELLOW, parseMap(roMap, ro)));
    }

    public static NationTemplate getTemplate(String name) {
        return TEMPLATES.get(name.toLowerCase());
    }

    public static Set<String> getAvailableTemplates() {
        return TEMPLATES.keySet();
    }
}
